<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='(note all the code for these projects can be viewed on my Github here though I will make specific references to scripts down below).
One of my P5 projects that I am the happiest with is an interactive poetry/anti-game game that involves corralling a ball with the cursor to reveal a narrative. I decided I wanted to replace the mouse and cursor with a joystick, and that I wanted to use node, express, and a websocket to interface between P5 and the arduino.'>

<meta property='og:title' content='Making a Controller for My P5 Game • Alden&#39;s ITP Blog'>
<meta property='og:description' content='(note all the code for these projects can be viewed on my Github here though I will make specific references to scripts down below).
One of my P5 projects that I am the happiest with is an interactive poetry/anti-game game that involves corralling a ball with the cursor to reveal a narrative. I decided I wanted to replace the mouse and cursor with a joystick, and that I wanted to use node, express, and a websocket to interface between P5 and the arduino.'>
<meta property='og:url' content='http://example.org/2017/10/18/making-a-controller-for-my-p5-game/'>
<meta property='og:site_name' content='Alden&#39;s ITP Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:published_time' content='2017-10-18T04:43:38Z'/><meta property='article:modified_time' content='2017-10-18T04:43:38Z'/><meta name='twitter:card' content='summary'>

<meta name="generator" content="Hugo 0.30.2" />

  <title>Making a Controller for My P5 Game • Alden&#39;s ITP Blog</title>
  <link rel='canonical' href='http://example.org/2017/10/18/making-a-controller-for-my-p5-game/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Ubuntu:400,400i,700&subset=latin'>
<link rel='stylesheet' href='/assets/css/main.77da63e1.css'><link rel='stylesheet' href='/css/custom.css'>
</head>


<body class='page type-post'>
  <div class='site'>

    <a class='screen-reader' href='#main'>Skip to Content</a>

    <header id='header' class='header-container'>
      <div class='header site-header'>
        <nav id='main-menu' class='main-menu-container' aria-label='Main Menu'>
  <ul class='main-menu'>
  
  </ul>
</nav>

        <div class='header-info'>
          
          <p class='site-title title'>Alden&#39;s ITP Blog</p>
          
          <p class='site-description subtitle'></p>
        </div>
      </div>
    </header>


<main id='main' class='main'>
  <article lang='en' class='entry'>
    <header class='header-container'>
  <div class='header entry-header'>
    <div class='header-info'>
      <h1 class='title'>Making a Controller for My P5 Game</h1>
      

    </div>
    
<div class='meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader'>Posted on </span>
  <time class='date' datetime='2017-10-18T04:43:38Z'>2017, Oct 18</time>
</span>

  
  

</div>


  </div>
</header>

    
    

    <div class='entry-content'>
  <p>(note all the code for these projects can be viewed on my Github <a href="https://github.com/miamiww/PhysicalComputing/tree/master/Week6/joystickP5">here</a> though I will make specific references to scripts down below).</p>

<p>One of my P5 projects that I am the happiest with is an interactive poetry/anti-game game that involves corralling a ball with the cursor to reveal a narrative. I decided I wanted to replace the mouse and cursor with a joystick, and that I wanted to use node, <a href="https://expressjs.com/">express</a>, and a websocket to interface between P5 and the arduino.</p>

<p><img class="wp-image-246 size-full aligncenter" src="http://www.alden.life/wp-content/uploads/2017/10/giphy.gif" alt="" width="480" height="324" /></p>

<p>I started out by adapting the <a href="https://github.com/miamiww/PhysicalComputing/blob/master/Week6/joystickP5/AnalogInOutSerial/AnalogInOutSerial.ino">SerialInOut example code</a> for arduino to work for a joystick since the example uses a potentiometer and a joystick is just two potentiometers and a switch. Making those changes I wrote <a href="https://github.com/miamiww/PhysicalComputing/blob/master/Week6/joystickP5/Joystick/Joystick.ino">this code</a> for outputting the joystick readings to serial. I had some trouble setting wiring the joystick initially but Aiden helped me out. Also I read on a now forgotten stack exchange that INPUT_PULLUP is necessary for setting the pinmode on digital ins that are going over serial, but I didn&#8217;t understand why that is the case.</p>

<p><img class="wp-image-250  aligncenter" src="http://www.alden.life/wp-content/uploads/2017/10/joystick-2-e1508300755163-1024x1024.jpg" alt="" width="501" height="501" srcset="http://www.alden.life/wp-content/uploads/2017/10/joystick-2-e1508300755163-1024x1024.jpg 1024w, http://www.alden.life/wp-content/uploads/2017/10/joystick-2-e1508300755163-150x150.jpg 150w, http://www.alden.life/wp-content/uploads/2017/10/joystick-2-e1508300755163-300x300.jpg 300w, http://www.alden.life/wp-content/uploads/2017/10/joystick-2-e1508300755163-768x768.jpg 768w" sizes="(max-width: 501px) 100vw, 501px" /></p>

<p>Before trying to figure out how to integrate the serial readings into my game/poem script I connected it to a very quick example <a href="https://github.com/miamiww/PhysicalComputing/blob/master/Week6/joystickP5/public/sketch.js">here</a> which you can see in the first gif above. I&#8217;d used node and websockets before but I didn&#8217;t really remember them very well so it took me a pretty long time to get off the ground. I made use of some code that I had from <a href="http://grayarea.org/community-entry/mark-hellar/">Mark Hellar</a> from when I was at Grey Area, which is why I ended up using express.</p>

<p><img class="aligncenter wp-image-249 size-full" src="http://www.alden.life/wp-content/uploads/2017/10/NOtGood.gif" alt="" width="480" height="300" /></p>

<p>Once I figured out the example worked I went about redoing my P5 project to take the serial input. It didn&#8217;t take very long, I just replaced the mouseX and mousePressed variables with the respective inputs from the joystick. I intentionally made it so that you couldn&#8217;t see the player&#8217;s &#8220;cursor&#8221;, I wanted discovering the relationship between what the player was doing and the motion of the ball to be didactic and not immediately clear (so that you have to play around with the joystick before you figure out what is going on).</p>

</div>

    
<footer class='entry-footer-container'>
  <div class='entry-footer'>
  <div class='categories'>
  <span class='taxonomyTerm-icon'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>
  
</svg>
</span>
  <span class='screen-reader'>Categories: </span><a class='category' href='/categories/physical-computing'>Physical Computing</a></div>

  </div>
</footer>


  </article>
  
<nav class='entry-nav-container'>
  <div class='entry-nav'><div class='prev-entry'>
      <a href='/2017/10/18/business-card/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader'>Previous post: </span>Business Card</a>
    </div><div class='next-entry'>
      <a href='/2017/10/20/empathy-lense-kickstarter-campaign/'>
        <span class='screen-reader'>Next post: </span>Empathy Lense Kickstarter Campaign<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>

  
</main>

    <footer id='footer' class='footer-container'>
      <div class='footer'>
        <div class='social-menu-container'>
  <nav aria-label='Social Menu'>
    <ul class='social-menu'></ul>
  </nav>
</div>
        <div class='copyright'>
  <p>
  </p>
</div>

      </div>
    </footer>

  </div><script src='/assets/js/main.f29c93b9.js'></script><script src='/js/custom.js'></script></body>

</html>

