<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='I wanted to make a project that would display a dubiously motivational message each time I sat at my home office desk. To start off I used a HC-SR04 ping distance sensor and attached a pin with a message (in this case a pin I got at the art book fair) to a little SG90 micro servo motor. I initially tried to map the distance readings of the HC-SR04 to the angle of the servo motor, but it was too noisy and the servo jittered around quickly (you can see that code commented out below).'>

<meta property='og:title' content='Breaking A Servo? • Alden&#39;s ITP Blog'>
<meta property='og:description' content='I wanted to make a project that would display a dubiously motivational message each time I sat at my home office desk. To start off I used a HC-SR04 ping distance sensor and attached a pin with a message (in this case a pin I got at the art book fair) to a little SG90 micro servo motor. I initially tried to map the distance readings of the HC-SR04 to the angle of the servo motor, but it was too noisy and the servo jittered around quickly (you can see that code commented out below).'>
<meta property='og:url' content='http://example.org/2017/10/04/breaking-a-servo/'>
<meta property='og:site_name' content='Alden&#39;s ITP Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:published_time' content='2017-10-04T15:34:20Z'/><meta property='article:modified_time' content='2017-10-04T15:34:20Z'/><meta name='twitter:card' content='summary'>

<meta name="generator" content="Hugo 0.30.2" />

  <title>Breaking A Servo? • Alden&#39;s ITP Blog</title>
  <link rel='canonical' href='http://example.org/2017/10/04/breaking-a-servo/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Ubuntu:400,400i,700&subset=latin'>
<link rel='stylesheet' href='/assets/css/main.77da63e1.css'><link rel='stylesheet' href='/css/custom.css'>
</head>


<body class='page type-post'>
  <div class='site'>

    <a class='screen-reader' href='#main'>Skip to Content</a>

    <header id='header' class='header-container'>
      <div class='header site-header'>
        <nav id='main-menu' class='main-menu-container' aria-label='Main Menu'>
  <ul class='main-menu'>
  
  </ul>
</nav>

        <div class='header-info'>
          
          <p class='site-title title'>Alden&#39;s ITP Blog</p>
          
          <p class='site-description subtitle'></p>
        </div>
      </div>
    </header>


<main id='main' class='main'>
  <article lang='en' class='entry'>
    <header class='header-container'>
  <div class='header entry-header'>
    <div class='header-info'>
      <h1 class='title'>Breaking A Servo?</h1>
      

    </div>
    
<div class='meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader'>Posted on </span>
  <time class='date' datetime='2017-10-04T15:34:20Z'>2017, Oct 04</time>
</span>

  
  

</div>


  </div>
</header>

    
    

    <div class='entry-content'>
  <p>I wanted to make a project that would display a dubiously motivational message each time I sat at my home office desk. To start off I used a HC-SR04 ping distance sensor and attached a pin with a message (in this case a pin I got at the art book fair) to a little SG90 micro servo motor. I initially tried to map the distance readings of the HC-SR04 to the angle of the servo motor, but it was too noisy and the servo jittered around quickly (you can see that code commented out below).</p>

<p><img class="alignnone size-medium wp-image-212" src="http://www.alden.life/wp-content/uploads/2017/10/2017-10-04-11.17.06-e1507130751661-291x300.jpg" alt="" width="291" height="300" srcset="http://www.alden.life/wp-content/uploads/2017/10/2017-10-04-11.17.06-e1507130751661-291x300.jpg 291w, http://www.alden.life/wp-content/uploads/2017/10/2017-10-04-11.17.06-e1507130751661-768x792.jpg 768w, http://www.alden.life/wp-content/uploads/2017/10/2017-10-04-11.17.06-e1507130751661-993x1024.jpg 993w" sizes="(max-width: 291px) 100vw, 291px" /></p>

<p>After that I tried running it as an if/then statement, where the servo would change positions if the distance sensor recorded a short distance. However, the servo didn&#8217;t change position even as I watched the distance go below the threshold on the serial monitor. Instead it stayed in one place making a really awful noise and getting hotter until it stopped moving at all. After that it wouldn&#8217;t move at all even for simpler movements like the servo sweep example code, leading me to think that it was broken. However I tried it again after it had cooled down and it worked fine, but just still not for the application I wanted.</p>

<p><img class="alignnone wp-image-213 size-large" style="font-size: 1rem;" src="http://www.alden.life/wp-content/uploads/2017/10/2017-10-04-11.24.57-e1507130951760-1024x1024.jpg" alt="" width="739" height="739" srcset="http://www.alden.life/wp-content/uploads/2017/10/2017-10-04-11.24.57-e1507130951760-1024x1024.jpg 1024w, http://www.alden.life/wp-content/uploads/2017/10/2017-10-04-11.24.57-e1507130951760-150x150.jpg 150w, http://www.alden.life/wp-content/uploads/2017/10/2017-10-04-11.24.57-e1507130951760-300x300.jpg 300w, http://www.alden.life/wp-content/uploads/2017/10/2017-10-04-11.24.57-e1507130951760-768x768.jpg 768w" sizes="(max-width: 739px) 100vw, 739px" /></p>

<pre>You can see the code here:

<span style="color: #5e6d03;">#include</span> <span style="color: #434f54;">&lt;</span><b><span style="color: #d35400;">Servo</span></b><span style="color: #434f54;">.</span><span style="color: #000000;">h</span><span style="color: #434f54;">&gt;</span>

<b><span style="color: #d35400;">Servo</span></b> <span style="color: #000000;">myServo</span><span style="color: #000000;">;</span>

<span style="color: #00979c;">const</span> <span style="color: #00979c;">int</span> <span style="color: #000000;">trigPin</span> <span style="color: #434f54;">=</span> <span style="color: #000000;">13</span><span style="color: #000000;">;</span>
<span style="color: #00979c;">const</span> <span style="color: #00979c;">int</span> <span style="color: #000000;">echoPin</span> <span style="color: #434f54;">=</span> <span style="color: #000000;">12</span><span style="color: #000000;">;</span>
<span style="color: #00979c;">const</span> <span style="color: #00979c;">int</span> <span style="color: #000000;">servoPin</span> <span style="color: #434f54;">=</span> <span style="color: #000000;">6</span><span style="color: #000000;">;</span>
<span style="color: #00979c;">int</span> <span style="color: #000000;">servoAngle</span><span style="color: #000000;">;</span>

<span style="color: #00979c;">long</span> <span style="color: #000000;">duration</span><span style="color: #000000;">;</span>
<span style="color: #00979c;">int</span> <span style="color: #000000;">distance</span><span style="color: #000000;">;</span>

<span style="color: #00979c;">void</span> <span style="color: #5e6d03;">setup</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
  <span style="color: #d35400;">pinMode</span><span style="color: #000000;">(</span><span style="color: #000000;">trigPin</span><span style="color: #434f54;">,</span> <span style="color: #00979c;">OUTPUT</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <span style="color: #d35400;">pinMode</span><span style="color: #000000;">(</span><span style="color: #000000;">echoPin</span><span style="color: #434f54;">,</span> <span style="color: #00979c;">INPUT</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">begin</span><span style="color: #000000;">(</span><span style="color: #000000;">9600</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <span style="color: #000000;">myServo</span><span style="color: #434f54;">.</span><span style="color: #d35400;">attach</span><span style="color: #000000;">(</span><span style="color: #000000;">servoPin</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #00979c;">void</span> <span style="color: #5e6d03;">loop</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
  <span style="color: #000000;">myServo</span><span style="color: #434f54;">.</span><span style="color: #d35400;">write</span><span style="color: #000000;">(</span><span style="color: #000000;"></span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <span style="color: #d35400;">digitalWrite</span><span style="color: #000000;">(</span><span style="color: #000000;">trigPin</span><span style="color: #434f54;">,</span> <span style="color: #00979c;">LOW</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <span style="color: #d35400;">delayMicroseconds</span><span style="color: #000000;">(</span><span style="color: #000000;">2</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <span style="color: #d35400;">digitalWrite</span><span style="color: #000000;">(</span><span style="color: #000000;">trigPin</span><span style="color: #434f54;">,</span> <span style="color: #00979c;">HIGH</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <span style="color: #d35400;">delayMicroseconds</span><span style="color: #000000;">(</span><span style="color: #000000;">10</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <span style="color: #d35400;">digitalWrite</span><span style="color: #000000;">(</span><span style="color: #000000;">trigPin</span><span style="color: #434f54;">,</span> <span style="color: #00979c;">LOW</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <span style="color: #000000;">duration</span> <span style="color: #434f54;">=</span> <span style="color: #d35400;">pulseIn</span><span style="color: #000000;">(</span><span style="color: #000000;">echoPin</span><span style="color: #434f54;">,</span> <span style="color: #00979c;">HIGH</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <span style="color: #000000;">distance</span> <span style="color: #434f54;">=</span> <span style="color: #000000;">duration</span> <span style="color: #434f54;">*</span> <span style="color: #000000;">0.034</span> <span style="color: #434f54;">/</span> <span style="color: #000000;">2</span><span style="color: #000000;">;</span>
  <b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">print</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"Distance: "</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #000000;">distance</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>

  <span style="color: #5e6d03;">if</span><span style="color: #000000;">(</span><span style="color: #000000;">distance</span> <span style="color: #434f54;">&lt;</span> <span style="color: #000000;">10</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
    <span style="color: #000000;">myServo</span><span style="color: #434f54;">.</span><span style="color: #d35400;">write</span><span style="color: #000000;">(</span><span style="color: #000000;">90</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <span style="color: #000000;">}</span> <span style="color: #5e6d03;">else</span> <span style="color: #000000;">{</span>
    <span style="color: #000000;">myServo</span><span style="color: #434f54;">.</span><span style="color: #d35400;">write</span><span style="color: #000000;">(</span><span style="color: #000000;"></span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
  <span style="color: #000000;">}</span>



  <span style="color: #434f54;">// int servoAngle = map(distance, 0, 30, 0, 179);</span>
  <span style="color: #434f54;">//  myServo.write(servoAngle);</span>

<span style="color: #000000;">}</span>

</pre>

</div>

    
<footer class='entry-footer-container'>
  <div class='entry-footer'>
  <div class='categories'>
  <span class='taxonomyTerm-icon'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>
  
</svg>
</span>
  <span class='screen-reader'>Categories: </span><a class='category' href='/categories/physical-computing'>Physical Computing</a></div>

  </div>
</footer>


  </article>
  
<nav class='entry-nav-container'>
  <div class='entry-nav'><div class='prev-entry'>
      <a href='/2017/10/04/personal-color-palette/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader'>Previous post: </span>Personal Color Palette</a>
    </div><div class='next-entry'>
      <a href='/2017/10/07/you-suck/'>
        <span class='screen-reader'>Next post: </span>You Suck<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>

  
</main>

    <footer id='footer' class='footer-container'>
      <div class='footer'>
        <div class='social-menu-container'>
  <nav aria-label='Social Menu'>
    <ul class='social-menu'></ul>
  </nav>
</div>
        <div class='copyright'>
  <p>
  </p>
</div>

      </div>
    </footer>

  </div><script src='/assets/js/main.f29c93b9.js'></script><script src='/js/custom.js'></script></body>

</html>

